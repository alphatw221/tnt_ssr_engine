<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>OrderItemsSummary</title>
</head>
<body>
<h1>OrderItemsSummary</h1>
<h2>src/components/component-instance/order/OrderItemsSummary.jsx</h2>
<pre>import clsx from &quot;clsx&quot;;
import style from './OrderItemsSummary.module.scss'

import React, { Fragment, useState} from &quot;react&quot;;

import { getToFixedNumber } from &quot;@/lib/utils/toFixedHelper&quot;;

const OrderItemsSummary = ({order, routingTable})=&gt;{
    

    const [showOrderItems , setShowOrderItems] = useState(false)

    return (&lt;Fragment&gt;


            &lt;div className={clsx(style['訂單明細框'], '訂單明細框')}&gt;
                &lt;div className={clsx(style['訂單明細標題框'], '訂單明細標題框')} onClick={()=&gt;{setShowOrderItems(!showOrderItems)}}&gt;
                    &lt;h3 className={clsx(style['訂單明細標題'], '訂單明細標題')} onClick={()=&gt;{setShowOrderItems(!showOrderItems)}}&gt;訂單明細&lt;/h3&gt;
                &lt;/div&gt;

                &lt;table className={clsx(style['訂單商品-表格'], '訂單商品-表格', showOrderItems?`${style['顯示']} 顯示`:'')}&gt;
                    &lt;thead className={clsx(style['表格-頭段'], '表格-頭段')}&gt;
                    &lt;tr className={clsx(style['表格-列'], '表格-列')}&gt;
                        &lt;th className={clsx(style['表格-欄位名稱'], '表格-欄位名稱')}&gt;圖片&lt;/th&gt;
                        &lt;th className={clsx(style['表格-欄位名稱'], '表格-欄位名稱')}&gt;名稱&lt;/th&gt;
                        &lt;th className={clsx(style['表格-欄位名稱'], '表格-欄位名稱')}&gt;單價&lt;/th&gt;
                        &lt;th className={clsx(style['表格-欄位名稱'], '表格-欄位名稱')}&gt;數量&lt;/th&gt;
                        &lt;th className={clsx(style['表格-欄位名稱'], '表格-欄位名稱')}&gt;小計&lt;/th&gt;
                    &lt;/tr&gt;
                    &lt;/thead&gt;
                    &lt;tbody className={clsx(style['表格-身體'], '表格-身體')}&gt;
                    {
                        (order?.order_products||[]).map((order_product, key)=&gt;{
                            return ( 
                            &lt;Fragment key={key}&gt;
                                &lt;tr className={clsx(style['單訂單商品框'], '單訂單商品框')} key={key}&gt;
                                    &lt;td className={clsx(style['訂單商品-圖片框'], &quot;訂單商品-圖片框&quot;)}&gt;
                                        &lt;a href={`/${routingTable?.['product_route']}/${order_product?.product?.uuid}`}&gt;
                                            &lt;img
                                                className={clsx(style['訂單商品-圖片'], &quot;訂單商品-圖片&quot;)}
                                                src={order_product?.image}
                                                alt=&quot;&quot;
                                            /&gt;
                                        &lt;/a&gt;
                                    &lt;/td&gt;
                                    &lt;td className={clsx(style['訂單商品-名稱框'], &quot;訂單商品-名稱框&quot;)}&gt;
                                        &lt;a href={`/${routingTable?.['product_route']}/${order_product?.product?.uuid}`}&gt;
                                            &lt;h4 className={clsx(style['訂單商品-名稱'], &quot;訂單商品-名稱&quot;)}&gt;
                                                {`${order_product?.name||''}`}
                                            &lt;/h4&gt;
                                            &lt;h5 className={clsx(style['訂單商品-變體名稱'], &quot;訂單商品-變體名稱&quot;)}&gt;{`${order_product?.type1?`-${order_product?.type1}:${order_product?.value1}`:''}${order_product?.type2?`-${order_product?.type2}:${order_product?.value2}`:''}`}&lt;/h5&gt;
                                            &lt;h5 className={clsx(style['訂單商品-任搭名稱'], &quot;訂單商品-任搭名稱&quot;)}&gt;{`${order_product?.compose_base?`-任搭${order_product?.compose_base}件`:''}`}&lt;/h5&gt;
                                        &lt;/a&gt;
                                    &lt;/td&gt;
                                    &lt;td className={clsx(style['訂單商品-價錢框'], &quot;訂單商品-價錢框&quot;)}&gt;
                                        &lt;span className={clsx('訂單商品價錢',style['訂單商品價錢'])}&gt;
                                            {`${order_product?.currency_sign||'$'}${getToFixedNumber(Number(order_product?.price||0), order_product?.currency||'TWD')}`}
                                        &lt;/span&gt;
                                    &lt;/td&gt;
                                    &lt;td className={clsx(style['訂單商品-數量框'], &quot;訂單商品-數量框&quot;)}&gt;
                                            &lt;span className={clsx('訂單商品數量',style['訂單商品數量'])}&gt;
                                                {`${order_product?.quantity||1}件`}
                                            &lt;/span&gt;
                                    &lt;/td&gt;
                                   
                                    &lt;td className={clsx(style['訂單商品-小計框'], &quot;訂單商品-小計框&quot;)}&gt;
                                        &lt;span className={clsx('訂單商品小計',style['訂單商品小計'])}&gt;
                                            {`${order_product?.currency_sign||'$'}${getToFixedNumber(Number(order_product?.subtotal||0), order_product?.currency||'TWD')}`}
                                        &lt;/span&gt;
                                    &lt;/td&gt;
                                &lt;/tr&gt;

                                {
                                    (order_product?.order_compose_products||[]).length&gt;0 &amp;&amp;
                                    (order_product?.order_compose_products||[]).map((order_compose_product, key)=&gt;{
                                        return (
                                            &lt;tr className={clsx(style['單任搭商品框'], &quot;單任搭商品框&quot;)} key={key}&gt;
                                                &lt;td&gt;&lt;/td&gt;
                                                &lt;td className={clsx(style['單任搭商品-圖片框'], &quot;單任搭商品-圖片框&quot;)}&gt;
                                                    &lt;img
                                                        className={clsx(style['單任搭商品-圖片'], &quot;單任搭商品-圖片&quot;)}
                                                        src={order_compose_product?.image}
                                                        alt=&quot;&quot;
                                                    /&gt;
                                                &lt;/td&gt;
                                                &lt;td className={clsx(style['單任搭商品-名稱框'], &quot;單任搭商品-名稱框&quot;)}&gt;
                                                    &lt;span className={clsx('單任搭商品-名稱',style['單任搭商品-名稱'])}&gt;
                                                        {`${order_compose_product?.name}`}
                                                    &lt;/span&gt;
                                                &lt;/td&gt;
                                                &lt;td className={clsx(style['單任搭商品-數量框'], &quot;單任搭商品-數量框&quot;)}&gt;
                                                    &lt;span className={clsx('單任搭商品-數量',style['單任搭商品-數量'])}&gt;
                                                        {`${order_compose_product?.quantity}`}
                                                    &lt;/span&gt;
                                                &lt;/td&gt;
                                            &lt;/tr&gt;
                                        )
                                    })
                                
                                }
                            &lt;/Fragment&gt;)})
                    }
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;

            &lt;div className={clsx(style['訂單總結框'], '訂單總結框')}&gt;
                
                &lt;div className={clsx(style['訂單總結標題框'], '訂單總結標題框')}&gt;
                    &lt;h3 className={clsx(style['訂單總結標題'], '訂單總結標題')}&gt;訂單總結&lt;/h3&gt;
                &lt;/div&gt;

                &lt;div className={clsx(style['小計框'], '小計框')}&gt;
                    &lt;label className={clsx(style['小計-標籤'], '小計-標籤')}&gt;小計 &lt;/label&gt;
                    &lt;span className={clsx(style['小計'], '小計')}&gt;
                    {order?.base_currency_sign||'$'}{getToFixedNumber(Number(order?.subtotal||0), order?.base_currency||'TWD')}&lt;/span&gt;
                &lt;/div&gt;
                &lt;div className={clsx(style['使用紅利框'], '使用紅利框')}&gt;
                    &lt;label className={clsx(style['使用紅利-標籤'], '使用紅利-標籤')}&gt;使用紅利&lt;/label&gt;
                    &lt;span&gt;
                        {Number(Number(order?.apply_points||0)?.toFixed(0)).toLocaleString()}
                    &lt;/span&gt;
                &lt;/div&gt;
                &lt;div className={clsx(style['紅利折抵框'], '紅利折抵框')}&gt;
                    &lt;label className={clsx(style['紅利折抵-標籤'], '紅利折抵-標籤')}&gt;紅利折抵&lt;/label&gt;
                    &lt;span&gt;{order?.base_currency_sign||'$'}{getToFixedNumber(Number(order?.apply_points_discount||0), order?.base_currency||'TWD')}&lt;/span&gt;
                &lt;/div&gt;
                &lt;div className={clsx(style['運費框'], '運費框')}&gt;
                    &lt;label className={clsx(style['運費-標籤'], '運費-標籤')}&gt;運費 &lt;/label&gt;
                    &lt;span&gt;{order?.base_currency_sign||'$'}{getToFixedNumber(Number(order?.shipping_fee||0), order?.base_currency||'TWD')}&lt;/span&gt;
                &lt;/div&gt;
                &lt;div className={clsx(style['稅金框'], '稅金框')}&gt;
                    &lt;label className={clsx(style['稅金-標籤'], '稅金-標籤')}&gt;稅金 &lt;/label&gt;
                    &lt;span&gt;{order?.base_currency_sign||'$'}{getToFixedNumber(Number(order?.tax||0), order?.base_currency||'TWD')}&lt;/span&gt;
                &lt;/div&gt;
                &lt;div className={clsx(style['合計框'], '合計框')}&gt;
                    &lt;label className={clsx(style['合計-標籤'], '合計-標籤')}&gt;合計 &lt;/label&gt;
                    &lt;span&gt;{order?.base_currency_sign||'$'}{getToFixedNumber(Number(order?.total||0), order?.base_currency||'TWD')}&lt;/span&gt;
                &lt;/div&gt;


            &lt;/div&gt;
    &lt;/Fragment&gt;)
}

export default OrderItemsSummary;


</pre>
<h2>src/components/component-instance/order/OrderItemsSummary.module.scss</h2>
<pre>/* 訂單明細區塊 */
.訂單明細框 {
    width: 100%;
    max-width: 800px;
    margin: 20px auto;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
    background-color: #f9f9f9;
}

.訂單明細標題框 {
    text-align: center;
    margin-bottom: 15px;
}

.訂單明細標題 {
    font-size: 20px;
    font-weight: bold;
    color: #333;
}

/* 訂單表格樣式 */
.訂單商品-表格 {
    width: 100%;
    border-collapse: collapse;
    background-color: #fff;
}

.表格-列 {
    border-bottom: 1px solid #ddd;
}

.表格-欄位名稱 {
    background-color: #f1f1f1;
    padding: 10px;
    text-align: left;
    font-weight: bold;
}

.單訂單商品框, .單任搭商品框 {
    text-align: center;
}

.訂單商品-圖片框 img, .單任搭商品-圖片框 img {
    width: 50px;
    height: 50px;
    object-fit: cover;
    border-radius: 5px;
}

/* 訂單總結區塊 */
.訂單總結框 {
    width: 100%;
    max-width: 400px;
    margin: 20px auto;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
    background-color: #fff;
}

.訂單總結標題框 {
    text-align: center;
    margin-bottom: 15px;
}

.訂單總結標題 {
    font-size: 20px;
    font-weight: bold;
    color: #333;
}

/* 訂單金額明細 */
.小計框, .使用紅利框, .紅利折抵框, .運費框, .稅金框, .合計框 {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
}

.合計框 {
    font-weight: bold;
    font-size: 18px;
}
</pre>
</body>
</html>